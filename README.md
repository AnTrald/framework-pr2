# API Gateway & Microservices Project
Проект представляет собой микросервисную архитектуру с API Gateway, сервисом пользователей и сервисом заказов.

## Быстрый старт с Docker

```bash
# 1. Убедитесь, что .env файл настроен
cp .env.example .env для каждого из микросервисов
# Отредактируйте .env и установите JWT_SECRET_KEY

# 2. Запустите все сервисы
docker-compose up --build

# 3. Откройте Swagger UI
# http://localhost:8000/docs
```


## Сервисы
1. API Gateway (api_gateway/main.py)
Порт: 8000

Функционал: Единая точка входа и маршрутизация
-Проксирование запросов к микросервисам
-Централизованная аутентификация
-CORS и обработка ошибок
-Health-check мониторинг сервисов
-Балансировка нагрузки между инстансами

2. Users Service (service_users/main.py)
Порт: 8001

Функционал: Управление пользователями и аутентификация
-Регистрация и авторизация пользователей
-Управление профилями (просмотр, редактирование)
-JWT токены для аутентификации
-Ролевая модель (client/admin)
-Автоматическое создание первого администратора

3. Orders Service (service_orders/main.py)
Порт: 8002

Функционал: Управление заказами
-Создание и отслеживание заказов
-Управление статусами заказов
-Валидация переходов между статусами
-Разграничение прав доступа (пользователь/админ)
-История изменений заказов

# Документация API Endpoints

## Пользователи (/v1/users/*)
POST /v1/users/register - регистрация пользователя

POST /v1/users/login - вход в систему

GET /v1/users/profile - получить профиль (требуется аутентификация )

PUT /v1/users/profile - обновить профиль (требуется аутентификация )

GET /v1/users - список пользователей (только admin)

## Заказы (/v1/orders/*)
POST /v1/orders - создать заказ (требуется аутентификация )

GET /v1/orders/{order_id} - получить заказ (требуется аутентификация )

GET /v1/orders - список заказов (требуется аутентификация )

PUT /v1/orders/{order_id} - обновить заказ (требуется аутентификация )

DELETE /v1/orders/{order_id} - отменить заказ (требуется аутентификация )

## Системные
GET /health - проверка статуса сервисов
